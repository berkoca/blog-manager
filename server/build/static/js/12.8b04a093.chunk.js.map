{"version":3,"sources":["views/AddPost.js"],"names":["AddPost","useState","title","setTitle","categoryTags","setCategoryTags","file","setFile","history","useHistory","editorRef","useRef","className","onChange","e","target","value","placeholder","apiKey","onInit","evt","editor","current","initialValue","init","height","width","menubar","plugins","toolbar","content_style","files","name","type","Ripple","onClick","preventDefault","jwt","localStorage","getItem","formData","FormData","append","getContent","axios","post","headers","authorization","then","response","replace","catch","error","console","log","tag","Link","color","block"],"mappings":"2RAoFeA,UA9EC,WACd,MAA0BC,qBAA1B,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwCF,qBAAxC,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAAwBJ,qBAAxB,mBAAOK,EAAP,KAAaC,EAAb,KAEMC,EAAUC,cACVC,EAAYC,iBAAO,MAwBzB,OACE,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,UACE,4CAEF,eAAC,IAAD,WACE,cAAC,IAAD,CAAYC,UAAU,OAAtB,SACE,cAAC,IAAD,CAAOC,SAAU,SAAAC,GAAC,OAAIX,EAASW,EAAEC,OAAOC,QAAQC,YAAY,YAE9D,cAAC,IAAD,CAAYL,UAAU,OAAtB,SACE,cAAC,IAAD,CACEM,OAAO,mDACPC,OAAQ,SAACC,EAAKC,GAAaX,EAAUY,QAAUD,GAC/CE,aAAa,kBACbC,KAAM,CACJC,OAAQ,IACRC,MAAO,OACPC,SAAS,EACTC,QAAS,CACP,iEACA,6CACA,wDAEFC,QAAS,0JAITC,cAAe,4EAIrB,cAAC,IAAD,CAAYlB,UAAU,OAAtB,SACE,cAAC,IAAD,CAAOC,SAAU,SAAAC,GAAC,OAAIT,EAAgBS,EAAEC,OAAOC,QAAQC,YAAY,kDAErE,eAAC,IAAD,CAAYL,UAAU,OAAtB,UACE,cAAC,IAAD,oBACA,cAAC,IAAD,CAAOC,SAzCO,SAACC,GACvBP,EAAQO,EAAEC,OAAOgB,MAAM,KAwCmBC,KAAK,OAAOC,KAAK,YAErD,cAAC,IAAOC,OAAR,CAAeC,QA7DJ,SAACrB,GAClBA,EAAEsB,iBAEF,IAAMC,EAAMC,aAAaC,QAAQ,OAC3BC,EAAW,IAAIC,SAErBD,EAASE,OAAO,OAAQpC,GACxBkC,EAASE,OAAO,QAASxC,GACzBsC,EAASE,OAAO,UAAWhC,EAAUY,QAAQqB,cAC7CH,EAASE,OAAO,gBAAiBtC,GAEjCwC,IAAMC,KAAK,qCAAsCL,EAAU,CAAEM,QAAS,CAAEC,cAAc,UAAD,OAAYV,MAC9FW,MAAK,SAAAC,GACJzC,EAAQ0C,QAAQ,aACfC,OAAM,SAAAC,GACPC,QAAQC,IAAIF,EAAMH,cA8CoBM,IAAKC,IAAMC,MAAM,UAAUC,OAAK,EAApE","file":"static/js/12.8b04a093.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { useState, useRef } from 'react'\r\nimport { InputGroup, Input, Card, CardBody, Button, CardHeader, Label } from 'reactstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { Editor } from '@tinymce/tinymce-react'\r\n\r\nconst AddPost = () => {\r\n  const [title, setTitle] = useState()\r\n  const [categoryTags, setCategoryTags] = useState()\r\n  const [file, setFile] = useState()\r\n\r\n  const history = useHistory()\r\n  const editorRef = useRef(null)\r\n\r\n  const createPost = (e) => {\r\n    e.preventDefault()\r\n\r\n    const jwt = localStorage.getItem(\"jwt\")\r\n    const formData = new FormData()\r\n\r\n    formData.append(\"file\", file)\r\n    formData.append(\"title\", title)\r\n    formData.append(\"content\", editorRef.current.getContent())\r\n    formData.append(\"category_tags\", categoryTags)\r\n\r\n    axios.post(\"https://blog.berkoca.com/api/posts\", formData, { headers: { authorization: `Bearer ${jwt}` } })\r\n      .then(response => {\r\n        history.replace(\"/posts\")\r\n      }).catch(error => {\r\n        console.log(error.response)\r\n      })\r\n  }\r\n  const selectFileEvent = (e) => {\r\n    setFile(e.target.files[0])\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card>\r\n        <CardHeader>\r\n          <h2>Add Post</h2>\r\n        </CardHeader>\r\n        <CardBody>\r\n          <InputGroup className='mb-2'>\r\n            <Input onChange={e => setTitle(e.target.value)} placeholder='Title' />\r\n          </InputGroup>\r\n          <InputGroup className='mb-2'>\r\n            <Editor\r\n              apiKey='5bsb4bel5tb3k2krtkkerhir0xqe36csr7ndx3pkuygfpi81'\r\n              onInit={(evt, editor) => { editorRef.current = editor }}\r\n              initialValue=\"<p>Content.</p>\"\r\n              init={{\r\n                height: 300,\r\n                width: \"100%\",\r\n                menubar: false,\r\n                plugins: [\r\n                  'advlist autolink lists link image charmap print preview anchor',\r\n                  'searchreplace visualblocks code fullscreen',\r\n                  'insertdatetime media table paste code help wordcount'\r\n                ],\r\n                toolbar: 'undo redo | formatselect | ' +\r\n                  'bold italic backcolor | alignleft aligncenter ' +\r\n                  'alignright alignjustify | bullist numlist outdent indent | ' +\r\n                  'removeformat | help',\r\n                content_style: 'body { font-family: Helvetica, Arial, sans-serif; font-size: 14px; }'\r\n              }}\r\n            />\r\n          </InputGroup>\r\n          <InputGroup className='mb-2'>\r\n            <Input onChange={e => setCategoryTags(e.target.value)} placeholder='Category Tags (use spaces to seperate tags)' />\r\n          </InputGroup>\r\n          <InputGroup className='mb-2'>\r\n            <Label>Image</Label>\r\n            <Input onChange={selectFileEvent} name=\"file\" type='file' />\r\n          </InputGroup>\r\n          <Button.Ripple onClick={createPost} tag={Link} color='primary' block>\r\n            Add a New Post\r\n          </Button.Ripple>\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddPost\r\n"],"sourceRoot":""}